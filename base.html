<!DOCTYPE html>
{% autoescape true %}
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		{% block title %}
		<title>SwipeMe</title>
		{% endblock title %}
		<!-- Added stylesheets -->
		{% block head_config %}
		<link href="css/main.css" rel="stylesheet">
		<!-- Bootstrap -->
		<link href="css/bootstrap.min.css" rel="stylesheet">
		<link href="css/bootstrap-theme.min.css" rel="stylesheet">
		<link href="css/sticky-footer-navbar.css" rel="stylesheet">
		{% endblock head_config %}
		<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
		<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
		<!--[if lt IE 9]>
			<script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
			<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
		<![endif]-->
	</head>
	<body>
	{% block navbar %}
		<!-- Fixed navbar -->
		<div class="navbar navbar-default navbar-fixed-top" role="navigation">
			<div class="container">
				<div class="navbar-header">
					<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".navbar-collapse">
						<span class="sr-only">Toggle navigation</span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</button>
					<a class="navbar-brand" href="/">Swipe Me</a>
				</div>
				<div class="navbar-collapse collapse">
					<ul class="nav navbar-nav">
						<li><a href="#">Buy</a></li>
						<li><a href="#about">Sell</a></li>
						<li><a href="#contact">Learn</a></li>
					</ul>
				</div><!--/.nav-collapse -->
			</div>
		</div>
	{% endblock navbar %}

		<div class="container">
		{% block container %}
		{% endblock container%}
		</div>

	{% block footer %}
		    <div class="footer">
		        <div class="container">
					<div id="form-content" class="modal fade" style="display: none;">
			            <div class="modal-header">
			                <a class="close" data-dismiss="modal">Ã—</a>
			                <h3>Send me a message</h3>
			            </div>
			            <div class="modal-body">
			                <form class="contact" name="contact">
			                    <label class="label" for="name">Your Name</label><br>
			                    <input type="text" name="name" class="input-xlarge"><br>
			                    <label class="label" for="email">Your E-mail</label><br>
			                    <input type="email" name="email" class="input-xlarge"><br>
			                    <label class="label" for="message">Enter a Message</label><br>
			                    <textarea name="message" class="input-xlarge"></textarea>
			                </form>
			            </div>
			            <div class="modal-footer">
			                <input class="btn btn-success" type="submit" value="Send!" id="submit">
			                <a href="#" class="btn" data-dismiss="modal">Cancel</a>
			            </div>
			        </div>
       				<div id="thanks"><p><a data-toggle="modal" href="#form-content" class="btn btn-primary btn-large">Send us Feedback!</a></p></div>
		        </div>
		    </div>
    {% endblock footer %}






		{% block javascript %}
		<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
		<!-- Include all compiled plugins (below), or include individual files as needed -->
		<script src="js/bootstrap.min.js"></script>

		<script>
	        $(document).ready(function () {
	            $("input#submit").click(function(){
	                $.ajax({
	                    type: "POST",
	                    url: "/email", //process to mail
	                    data: $('form.contact').serialize(),
	                    success: function(msg){
	                        $("#thanks").html(msg) //hide button and show thank you
	                        $("#form-content").modal('hide'); //hide popup
	                    },
	                    error: function(){
	                        alert("failure");
	                    }
	                });
	            });
	        });
	    </script>
		{% endblock javascript %}
	</body>
</html>
{% endautoescape %}
